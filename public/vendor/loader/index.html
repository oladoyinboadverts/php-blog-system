<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>AjaxPageParser Plugin Example</title>

	<link rel="stylesheet" href="demo.css" />

	<link href='http://fonts.googleapis.com/css?family=Raleway:400,200,600' rel='stylesheet' type='text/css'>
</head>
<body>
<div id="container">
	<div class="page">
		<div class="text">
			<h1>AjaxPageParser Plugin Example</h1>

<script type="text/javascript"
src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
		</div>
	</div>
</div>

<!-- normally all this would be loaded from a php file, MVC structure etc -->
<div class="menu">
	<a href="/demo/ajax-page-parser/index.html" class="active">Index page</a>
	<a href="/demo/ajax-page-parser/pages/second.html">Second page</a>
	<a href="/demo/ajax-page-parser/pages/third.html">Third page</a>
	
	<a href="/">Home</a>
</div>

<div class="loader">
	<span><img src="img/loader.gif" alt="" /></span>
</div>

<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha384-vk5WoKIaW/vJyUAd9n/wmopsmNhiy+L2Z+SBxGYnUkunIxVxAv/UtMOhba/xskxh" crossorigin="anonymous"></script>
<script src="src/jquery.pageparser-0.1.3.min.js" type="text/javascript"></script>
<script type="text/javascript">
$(function(){
	$(".menu a").pageParser({
		container:$('#container'),
		initialElement: $(".menu a.active"),
		parseElement: ".page",
		before: function(){
			$(".loader").show();
		},
		finished: function(){
			$(".menu a").removeClass('active');
			$(this).addClass('active');

			//timeout for demo purposes
			setTimeout(function(){
				$(".loader").hide();
			}, 300);
		},
		error: function(){
			alert('Whoops, something went wrong.');
		}
	});
});
</script>
</body>
</html>
